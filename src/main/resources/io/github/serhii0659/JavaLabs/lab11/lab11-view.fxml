<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane fx:id="rootPane" prefHeight="700.0" prefWidth="950.0" styleClass="main-window" xmlns:fx="http://javafx.com/fxml" fx:controller="io.github.serhii0659.JavaLabs.lab11.Lab11Controller">
    <top>
        <HBox alignment="CENTER_LEFT" onMouseDragged="#handleWindowDrag" onMousePressed="#handleWindowPress" styleClass="custom-title-bar">
            <Label styleClass="title-bar-label" text="Lab 11: Database (PostgreSQL) - Редактор Меню" />
            <Region HBox.hgrow="ALWAYS" />
            <Button onAction="#closeWindow" styleClass="title-bar-button, close-button"><graphic><FontIcon iconLiteral="fas-times" iconColor="#a8b2c1"/></graphic></Button>
        </HBox>
    </top>

    <center>
        <VBox spacing="15.0" styleClass="vbox-container">
            <padding><Insets bottom="15.0" left="15.0" right="15.0" top="15.0" /></padding>

            <VBox spacing="10.0" styleClass="card">
                <Label text="Редактор страв (Оберіть рядок у таблиці або введіть нові дані):" styleClass="label-title" style="-fx-font-size: 14px;"/>

                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <VBox spacing="5">
                        <Label text="Тип:" styleClass="label-info"/>
                        <ComboBox fx:id="typeCombo" prefWidth="120.0" styleClass="combo-box"/>
                    </VBox>

                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Назва страви:" styleClass="label-info"/>
                        <TextField fx:id="nameField" promptText="Наприклад: Піца 'Цезар'" />
                    </VBox>

                    <VBox spacing="5">
                        <Label text="Ціна (грн):" styleClass="label-info"/>
                        <TextField fx:id="priceField" promptText="0.00" prefWidth="100.0"/>
                    </VBox>
                </HBox>

                <Separator />

                <HBox spacing="10.0" alignment="CENTER_RIGHT">
                    <Label fx:id="statusLabel" text="Режим: Створення нового" style="-fx-text-fill: #00d9ff; -fx-font-style: italic;" />
                    <Region HBox.hgrow="ALWAYS"/>

                    <Button text="Очистити / Новий" onAction="#clearFields" styleClass="button">
                        <graphic><FontIcon iconLiteral="fas-eraser" iconColor="#a8b2c1"/></graphic>
                    </Button>

                    <Button fx:id="btnAdd" text="Додати нову" onAction="#addDish" styleClass="button-primary">
                        <graphic><FontIcon iconLiteral="fas-plus" iconColor="#0a0e27"/></graphic>
                    </Button>

                    <Button fx:id="btnUpdate" text="Зберегти зміни" onAction="#updateDish" styleClass="button" disable="true">
                        <graphic><FontIcon iconLiteral="fas-save" iconColor="#00d9ff"/></graphic>
                    </Button>
                </HBox>
            </VBox>

            <TableView fx:id="table" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="50.0"/>
                    <TableColumn fx:id="colType" text="Тип" prefWidth="100.0"/>
                    <TableColumn fx:id="colName" text="Назва" prefWidth="400.0"/>
                    <TableColumn fx:id="colPrice" text="Ціна" prefWidth="150.0"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
            </TableView>

            <HBox spacing="10.0" alignment="CENTER_LEFT" styleClass="card">
                <Button text="Оновити дані" onAction="#refreshTable" styleClass="button"/>
                <Button text="Знайти '...ка'" onAction="#filterDishes" styleClass="button"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="Видалити обране" onAction="#deleteDish" styleClass="button-danger">
                    <graphic><FontIcon iconLiteral="fas-trash" iconColor="white"/></graphic>
                </Button>
            </HBox>

        </VBox>
    </center>
</BorderPane>